<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ if .IsHome }}{{ .Site.Title }}{{ else }}{{ .Title }} - {{ .Site.Title }}{{ end }}</title>
    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2937067263617031"
         crossorigin="anonymous"></script>
</head>
<body>
    <script>
        function toggleTOC() {
            const tocContent = document.getElementById('toc-content');
            const tocToggle = document.querySelector('.toc-toggle-icon');
            const tocContainer = document.querySelector('.toc-container');
            
            if (tocContent.style.display === 'none') {
                tocContent.style.display = 'block';
                tocToggle.textContent = '−';
                tocContainer.classList.remove('collapsed');
            } else {
                tocContent.style.display = 'none';
                tocToggle.textContent = '+';
                tocContainer.classList.add('collapsed');
            }
        }
    </script>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <a href="{{ "/" | relURL }}" class="nav-brand">{{ .Site.Title }}</a>
                <ul class="nav-menu">
                    {{ $currentMenu := .Site.Menus.main }}
                    {{ range $currentMenu }}
                        {{ if not .Parent }}
                        {{ $hasChildren := false }}
                        {{ range $currentMenu }}
                            {{ if eq .Parent $.Name }}
                                {{ $hasChildren = true }}
                            {{ end }}
                        {{ end }}
                        <li class="nav-item {{ if $hasChildren }}dropdown{{ end }}">
                            <a href="{{ .URL | relURL }}" class="nav-link {{ if $hasChildren }}dropdown-toggle{{ end }}">
                                {{ .Name }}
                                {{ if $hasChildren }}<span class="dropdown-arrow">▼</span>{{ end }}
                            </a>
                            {{ if $hasChildren }}
                            <ul class="dropdown-menu">
                                {{ range $currentMenu }}
                                    {{ if eq .Parent $.Name }}
                                    <li class="dropdown-item">
                                        <a href="{{ .URL | relURL }}" class="dropdown-link">{{ .Name }}</a>
                                    </li>
                                    {{ end }}
                                {{ end }}
                            </ul>
                            {{ end }}
                        </li>
                        {{ end }}
                    {{ end }}
                </ul>
            </div>
        </nav>
    </header>

    <main>
        {{ block "main" . }}{{ end }}
    </main>

    <footer>
        <div class="footer-container">
            <p>&copy; {{ now.Year }} {{ .Site.Title }}. Making technology accessible to everyone.</p>
        </div>
    </footer>
</body>
</html>